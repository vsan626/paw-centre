{"ast":null,"code":"import { createStore, applyMiddleware, compose } from 'redux';\nimport { createWrapper } from 'next-redux-wrapper';\nimport rootReducer from '../reducers/index';\nimport thunk from 'redux-thunk';\nimport { createFirestoreInstance, reduxFirestore, getFirestore } from 'redux-firestore';\nimport { ReactReduxFirebaseProvider, getFirebase } from 'react-redux-firebase';\nimport fbConfig from '../../lib/database/config/fbConfig';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport 'firebase/firestore'; // create a makeStore function\n\nvar initialState = {\n  test: 'test'\n}; // const middleware = [thunk];\n// export const store = () => createStore(rootReducer,\n//   initialState,\n//   compose(\n//       applyMiddleware(thunk.withExtraArgument({ getFirebase, getFirestore })),\n//       reduxFirestore(fbConfig)\n//   )\n// );\n\nif (!firebase.apps.length) {\n  firebase.initializeApp(fbConfig);\n}\n\nfirebase.firestore();\nvar rfConfig = {\n  userProfile: 'users',\n  useFirestoreForProfile: true\n}; // const rrfProps = {\n//   firebase,\n//   config: rfConfig,\n//   dispatch: store.dispatch,\n//   createFirestoreInstance,\n// } \n\nvar createStoreWithFirebase = compose(applyMiddleware(thunk.withExtraArgument({\n  getFirebase: getFirebase,\n  getFirestore: getFirestore\n})), reduxFirestore(firebase, rfConfig))(createStore);\n\nvar store = function store() {\n  return createStoreWithFirebase(rootReducer, initialState);\n};\n\nconsole.log('STORE', store); // export an assembled wrapper\n\nexport var wrapper = createWrapper(store, {\n  debug: true\n});\nexport default store;","map":{"version":3,"sources":["/Users/vaisan/Downloads/paw-centre/redux/store/store.js"],"names":["createStore","applyMiddleware","compose","createWrapper","rootReducer","thunk","createFirestoreInstance","reduxFirestore","getFirestore","ReactReduxFirebaseProvider","getFirebase","fbConfig","firebase","initialState","test","apps","length","initializeApp","firestore","rfConfig","userProfile","useFirestoreForProfile","createStoreWithFirebase","withExtraArgument","store","console","log","wrapper","debug"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,EAAuCC,OAAvC,QAAsD,OAAtD;AACA,SAASC,aAAT,QAA8B,oBAA9B;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,uBAAT,EAAkCC,cAAlC,EAAkDC,YAAlD,QAAsE,iBAAtE;AACA,SAASC,0BAAT,EAAqCC,WAArC,QAAwD,sBAAxD;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAO,eAAP;AACA,OAAO,mBAAP;AACA,OAAO,oBAAP,C,CAEA;;AAEA,IAAMC,YAAY,GAAG;AAACC,EAAAA,IAAI,EAAE;AAAP,CAArB,C,CACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACE,IAAI,CAACF,QAAQ,CAACG,IAAT,CAAcC,MAAnB,EAA2B;AACzBJ,EAAAA,QAAQ,CAACK,aAAT,CAAuBN,QAAvB;AACD;;AAEHC,QAAQ,CAACM,SAAT;AAEA,IAAMC,QAAQ,GAAG;AACfC,EAAAA,WAAW,EAAE,OADE;AAEfC,EAAAA,sBAAsB,EAAE;AAFT,CAAjB,C,CAIA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMC,uBAAuB,GAAGpB,OAAO,CACrCD,eAAe,CAACI,KAAK,CAACkB,iBAAN,CAAwB;AAAEb,EAAAA,WAAW,EAAXA,WAAF;AAAeF,EAAAA,YAAY,EAAZA;AAAf,CAAxB,CAAD,CADsB,EAErCD,cAAc,CAACK,QAAD,EAAWO,QAAX,CAFuB,CAAP,CAG9BnB,WAH8B,CAAhC;;AAKA,IAAMwB,KAAK,GAAG,SAARA,KAAQ;AAAA,SAAMF,uBAAuB,CAAClB,WAAD,EAAcS,YAAd,CAA7B;AAAA,CAAd;;AACAY,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB,E,CACA;;AACA,OAAO,IAAMG,OAAO,GAAGxB,aAAa,CAACqB,KAAD,EAAQ;AAAEI,EAAAA,KAAK,EAAE;AAAT,CAAR,CAA7B;AACP,eAAeJ,KAAf","sourcesContent":["import { createStore, applyMiddleware, compose } from 'redux';\nimport { createWrapper } from 'next-redux-wrapper';\nimport rootReducer from '../reducers/index';\nimport thunk from 'redux-thunk';\nimport { createFirestoreInstance, reduxFirestore, getFirestore } from 'redux-firestore';\nimport { ReactReduxFirebaseProvider, getFirebase } from 'react-redux-firebase';\nimport fbConfig from '../../lib/database/config/fbConfig';\nimport firebase from 'firebase/app'\nimport 'firebase/auth';\nimport 'firebase/database';\nimport 'firebase/firestore';\n\n// create a makeStore function\n\nconst initialState = {test: 'test'};\n// const middleware = [thunk];\n\n// export const store = () => createStore(rootReducer,\n//   initialState,\n//   compose(\n//       applyMiddleware(thunk.withExtraArgument({ getFirebase, getFirestore })),\n//       reduxFirestore(fbConfig)\n//   )\n// );\n  if (!firebase.apps.length) {\n    firebase.initializeApp(fbConfig);\n  }\n\nfirebase.firestore();\n\nconst rfConfig = {\n  userProfile: 'users',\n  useFirestoreForProfile: true\n}\n// const rrfProps = {\n//   firebase,\n//   config: rfConfig,\n//   dispatch: store.dispatch,\n//   createFirestoreInstance,\n// } \n\nconst createStoreWithFirebase = compose(\n  applyMiddleware(thunk.withExtraArgument({ getFirebase, getFirestore })),\n  reduxFirestore(firebase, rfConfig)\n)(createStore)\n\nconst store = () => createStoreWithFirebase(rootReducer, initialState)\nconsole.log('STORE', store)\n// export an assembled wrapper\nexport const wrapper = createWrapper(store, { debug: true });\nexport default store\n"]},"metadata":{},"sourceType":"module"}